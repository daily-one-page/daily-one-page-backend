## 1. 개요

### 1.1 프로젝트명

**오늘한장**

### 1.2 슬로건

> **하루 한 장, 나를 완성하는 기록**

### 1.3 한 줄 정의

> 매일 한 페이지씩 하루를 기록하여 나만의 인생 노트를 완성하는 습관 형성 플랫폼

### 1.4 기획 배경

기존 일기/기록 앱들은 **빈 페이지에 자유롭게 쓰라**는 접근이 대부분이다. 하지만 많은 사람들이 "뭘 써야 할지 모르겠다"는 장벽에 막혀 기록 습관을 들이지 못한다.

**오늘한장**은 이 문제를 해결한다:

- 빈 페이지 → **템플릿 기반 구조화된 기록**
- 기록하고 끝 → **AI가 피드백으로 대화**
- 흩어진 기록 → **한 권의 인생 노트로 축적**

### 1.5 차별점

| 기존 앱             | 오늘한장                  |
| ---------------- | --------------------- |
| 자유 형식 → 뭘 쓸지 막막함 | 템플릿 블럭으로 가이드 제공       |
| 기록 후 방치          | 다음날 AI가 어제 기록 보고 피드백  |
| 날짜별 나열           | 책 넘기듯 인생 노트 열람        |
| 기록 동기 부여 없음      | 스트릭 + 창의적 뱃지로 게이미피케이션 |

---

## 2. 습관 분류 체계

오늘한장만의 습관 분류 방식. 사용자의 습관 성격에 따라 두 가지 유형으로 구분한다.

### 2.1 실천 습관

> **성공한 날 체크**

매일 의식적으로 챙겨야 하는 습관. 체크하지 않으면 실패로 간주된다.

**예시:**

- 영양제 섭취
- 운동
- 물 2L 마시기
- 일기 쓰기

### 2.2 절제 습관

> **실패한 날 체크**

평소에는 자연스럽게 지켜지지만, 깨졌을 때만 기록하는 습관. 체크하지 않으면 성공으로 간주된다.

**예시:**

- 금연
- 금주
- 야식 안 먹기
- 유튜브 1시간 이하
- 충동구매 안 하기

### 2.3 분류 기준

> **"이 습관, 평소에 이미 잘 하고 있나요?"**

- **아니요, 매일 신경 써야 해요** → 실천 습관
- **네, 가끔 실패해요** → 절제 습관

같은 습관이라도 사용자의 상황에 따라 다르게 분류될 수 있다. 예: 운동을 막 시작한 사람 → 실천 습관 / 매일 운동하는 사람 → 절제 습관

---

## 3. 핵심 기능

### 3.1 데일리 페이지 작성

사용자가 **레이아웃과 블럭**을 조합하여 나만의 페이지 템플릿을 구성한다.

**레이아웃 선택:**

|유형|설명|
|---|---|
|1분할|페이지 전체를 하나의 영역으로|
|2분할|상/하 또는 좌/우 두 영역|
|4분할|네 개의 영역으로 분리|

**블럭 타입:**

|블럭|용도 예시|
|---|---|
|자유 텍스트|일기, 메모, 회고|
|습관 체크|실천 습관 / 절제 습관 기록|
|단어장|오늘의 단어 5개 등|
|이미지|사진으로 하루 기록|

### 3.2 인생 노트 열람

- **책 넘기기 뷰**: 실제 노트를 넘기듯 몰입감 있는 회고
- **달력 뷰**: 날짜 선택 → 해당 페이지로 바로 이동

### 3.3 AI 피드백 (오늘의 한마디)

- 매일 첫 접속 시 어제 기록을 기반으로 AI가 한마디 생성
- 단순 통계가 아닌, **사람처럼 공감하고 응원하는 피드백**
- 예시:
    - "어제 운동 습관 3일 연속 성공! 이 페이스 대단해요 💪"
    - "요즘 '감사한 것' 칸에 가족 이야기가 많네요. 따뜻한 한 주였겠어요."

### 3.4 스트릭

|요소|기준|
|---|---|
|**스트릭**|연속 기록 일수|

### 3.5 과거 기록 수정

사용자가 깜빡하고 체크하지 못한 과거 기록을 수정할 수 있다.

**동작 방식:**

- 과거 날짜의 습관 체크를 추가/삭제 가능
- 수정 시 해당 습관의 스트릭을 자동 재계산
- 예: 어제 운동했는데 체크를 깜빡했다면, 오늘 수정해도 스트릭이 이어짐

**제한:**

- 너무 오래된 기록 수정은 제한 가능 (예: 7일 이내만 허용)

---

## 4. 뱃지 시스템

### 4.1 뱃지 철학

> **"7일 달성" 같은 단순 숫자가 아니라, 객관적 지표를 창의적으로 환산하여 재미와 성취감을 동시에 제공**

사용자가 습관을 지속할수록 **현실 세계의 재미있는 비유**로 성취를 보여준다. 금액, 거리, 부피, 건강 회복 등 다양한 관점을 섞어 지루하지 않게 구성한다.

### 4.2 프리셋 뱃지 예시

자주 사용되는 습관에 대해 미리 준비된 창의적 마일스톤.

**달리기 (매일 3km 기준, 누적 거리)**

| 달성 조건 | 뱃지 이름         |
| ----- | ------------- |
| 21km  | 🏃 하프마라톤 완주!  |
| 42km  | 🏅 풀마라톤 완주!   |
| 400km | 🚄 서울에서 부산까지! |

**금연 (1갑 5,000원 기준)**

| 달성 조건 | 뱃지 이름           |
| ----- | --------------- |
| 1일    | 🍗 치킨 1마리 값 절약! |
| 7일    | 🫁 폐가 청소를 시작합니다 |
| 30일   | 🍣 오마카세 한 끼 값!  |
| 100일  | 🎧 에어팟 하나 벌었다!  |
| 365일  | ✈️ 유럽 왕복 항공권!   |

**물 마시기 (매일 2L 기준, 누적량)**

| 달성 조건           | 뱃지 이름        |
| --------------- | ------------ |
| 14L (7일)        | 🚰 정수기 물통 1개 |
| 60L (30일)       | 🛁 대야 가득 채움  |
| 200L (100일)     | 🛀 욕조 하나 분량  |
| 730L (365일)     | 🚒 소방차 물탱크   |
| 2,000L (1,000일) | 🏊 작은 수영장 완성 |

### 4.3 뱃지 구조

**1) 뱃지세트 (BadgeSet)**

뱃지는 **세트 단위**로 관리된다. 하나의 습관에 여러 뱃지세트를 동시에 진행할 수 있다.

| 습관 | 뱃지세트 | 설명 |
|------|----------|------|
| 달리기 | 거리 도전 | 21km → 42km → 400km |
| 달리기 | 스트릭 도전 | 7일 연속 → 30일 연속 → 100일 연속 |

예: 달리기 습관에 "거리 도전"과 "스트릭 도전"을 동시에 등록하면, 두 개의 진행률이 각각 관리된다.

**2) 프리셋 뱃지세트**

- 자주 사용되는 습관(운동, 금연, 금주, 물 마시기 등)에 미리 준비
- 사용자가 해당 습관 선택 시 자동 적용

**3) 커스텀 뱃지세트**

- 사용자가 직접 목표와 마일스톤을 세분화하여 설정
- 자신만의 창의적인 비유로 뱃지 생성 가능

**4) AI 뱃지세트 생성**

- 사용자가 습관 정보 입력 → AI가 창의적인 뱃지세트 제안
- 제안된 목록을 사용자가 일부 수정 가능
- 수정 완료 후 저장 버튼으로 확정

### 4.4 달성 규칙

**순차 달성 방식**

뱃지세트 내에서 뱃지는 **순서대로 하나씩** 달성해야 한다.

```
금연 뱃지세트: 치킨(1일) → 오마카세(30일) → 에어팟(100일)

[1일 달성]
→ "치킨 1마리 값 절약!" 획득
→ 다음 목표: "오마카세 한 끼 값!" 진행 시작

[30일 달성]
→ "오마카세 한 끼 값!" 획득
→ 다음 목표: "에어팟 하나 벌었다!" 진행 시작
```

**규칙 요약:**

- 한 뱃지세트 내에서 진행 중인 뱃지는 항상 1개
- 이전 뱃지를 달성해야 다음 뱃지로 넘어감
- 여러 뱃지세트는 독립적으로 동시 진행 가능

---

## 5. 부가 기능 (후순위)

|기능|설명|우선순위|
|---|---|---|
|2분할/4분할 레이아웃|다양한 페이지 구성|중간|
|이미지 블럭|사진 첨부 기능|중간|
|책 넘기기 뷰|몰입감 있는 열람 UI|중간|
|AI 채팅|기록 기반 심층 대화|낮음|
|템플릿 공유|다른 사용자 템플릿 구경/적용|낮음|

---

## 6. MVP (최소 기능 제품)

**2개월 내 우선 개발 범위:**

|기능|포함 여부|
|---|---|
|1분할 자유 텍스트|✅|
|달력 뷰|✅|
|AI 피드백|✅|
|스트릭|✅|
|뱃지 시스템 (BadgeSet)|✅|
|과거 기록 수정|✅|
|2분할/4분할|❌|
|다양한 블럭 타입|❌|
|책 넘기기 뷰|❌|

---

## 7. 사용자 흐름

```
[온보딩]
회원가입 → 알람 시간 설정 (선택)

[저녁 루틴]
알람 수신 → 앱 진입 → 오늘 페이지 작성

[다음날 아침]
앱 접속 → AI 피드백 확인

[회고]
달력에서 날짜 선택 → 해당 페이지 열람
(향후: 책 넘기기로 연속 열람)

[과거 수정]
깜빡한 기록 발견 → 과거 날짜 수정 → 스트릭 자동 재계산

[뱃지 확인]
습관 누적 달성 시 → 창의적 뱃지 획득 → 성취감
```

---

## 8. 기술 스택

### 8.1 Backend

|영역|기술|선정 이유|
|---|---|---|
|Framework|Spring Boot 3.x|금융권 표준, 취업 시 어필|
|Database|MySQL|범용적, 면접 질문 다수|
|ORM|Spring Data JPA|표준, N+1 등 학습 포인트|
|캐싱|Redis|스트릭 캐싱 (자주 조회, 드물게 변경되는 데이터에 적합)|
|인증|Spring Security + JWT|보안 중시 금융권 특성|
|LLM|OpenAI API|AI 피드백 생성, 뱃지 생성|

**Redis 캐싱 전략:**

스트릭은 앱 접속 시마다 조회되지만, 변경은 하루 한 번이다. 이런 특성에 맞춰 캐싱을 적용한다.

| 상황 | 전략 | 동작 |
|------|------|------|
| 오늘 체크 | Write-Through | DB 업데이트 + Redis 동시 갱신 |
| 과거 수정 | Cache Invalidation | 스트릭 재계산 후 캐시 무효화 |
| 조회 | Cache-Aside | Redis 먼저 확인 → 없으면 DB 조회 후 캐싱 |

### 8.2 Frontend

|영역|기술|선정 이유|
|---|---|---|
|API 형식|REST API (JSON)|웹/앱 동시 지원|
|문서화|Swagger (SpringDoc)|API 명세 자동화|
|웹 프론트|React 또는 Vue|SPA로 앱과 동일한 UX|
|모바일|Flutter|크로스플랫폼, 단일 코드베이스|

### 8.3 Infra & DevOps

|영역|기술|선정 이유|
|---|---|---|
|컨테이너|Docker|배포 환경 일관성|
|클라우드|AWS EC2 + RDS|실무 표준|
|CI/CD|GitHub Actions|자동 빌드/배포 경험|

---

## 9. 백엔드 기술 어필 포인트

포트폴리오 면접 시 설명할 수 있는 기술적 깊이:

|기능|기술 포인트|
|---|---|
|스트릭 캐싱|Redis Write-Through + Cache Invalidation 전략|
|알람 시스템|Spring Scheduler / 비동기 처리|
|AI 피드백|외부 API 연동 + 에러 핸들링 + 응답 캐싱|
|AI 뱃지 생성|프롬프트 엔지니어링 + 사용자 입력 기반 동적 생성|
|달력 조회|날짜 범위 쿼리 최적화 + 인덱싱|
|페이지 저장|트랜잭션 처리 + 동시성 제어|
|과거 수정|스트릭 재계산 로직 + 캐시 동기화|
|인증|JWT 기반 Stateless 인증|
|배포|Docker + CI/CD 파이프라인 구축|

---

## 10. 개발 일정

**총 개발 기간: 2개월**

|주차|목표|
|---|---|
|1주|요구사항 확정, DB 설계, API 설계|
|2주|회원가입/로그인, JWT 인증 구현|
|3주|데일리 페이지 CRUD|
|4주|달력 뷰 API + 날짜별 조회|
|5주|AI 피드백 (OpenAI 연동) + 스트릭/뱃지 시스템|
|6주|알람 시스템 + 푸시 알림|
|7주|Swagger 문서화 + API 테스트 / Flutter 기본 화면|
|8주|Docker + AWS 배포 + CI/CD + 테스트|

---

## 11. 팀 구성

|역할|인원|비고|
|---|---|---|
|Backend 개발|1명|추후 팀원 추가 가능|

---

## 12. 기대 효과

### 사용자 관점

- 템플릿으로 "뭘 쓸지" 고민 없이 기록 시작
- 매일 기록하는 습관 형성
- AI 피드백으로 혼자가 아닌 느낌
- 창의적 뱃지로 습관 지속의 재미
- 쌓인 기록이 인생 노트로 남는 성취감

### 개발자 관점 (포트폴리오)

- Spring Boot + JPA + MySQL 실무 경험
- Redis 캐싱 전략 (Write-Through, Cache Invalidation)
- JWT 인증 등 금융권 선호 기술
- Docker + AWS + CI/CD 배포 파이프라인 구축
- 외부 API (OpenAI) 연동 경험 (피드백 + 뱃지 생성)
- "왜 이 기술을 선택했는지" 면접에서 설명 가능한 구조

---

## 13. 향후 확장 가능성

|기능|설명|
|---|---|
|다양한 블럭 타입|습관 체크, 단어장, 이미지 등|
|책 넘기기 뷰|몰입감 있는 인생 노트 열람|
|뱃지 시스템 확장|더 많은 프리셋 + 뱃지 공유 기능|
|AI 채팅|기록 패턴 기반 심층 대화|
|템플릿 마켓|다른 사용자 템플릿 공유/적용|
|소셜 기능|친구와 기록 공유, 챌린지|
|프리미엄|고급 템플릿, AI 기능 확장|

---

**작성자:** 정우찬
